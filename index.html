<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Pig Cat - Full-Stack, Android, AI</title><meta name="author" content="YSY"><meta name="copyright" content="YSY"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Full-Stack, Android, AI">
<meta property="og:type" content="website">
<meta property="og:title" content="Pig Cat">
<meta property="og:url" content="https://blog.ysy950803.top/index.html">
<meta property="og:site_name" content="Pig Cat">
<meta property="og:description" content="Full-Stack, Android, AI">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.ysy950803.top/img/avatar-ysy.png">
<meta property="article:author" content="YSY">
<meta property="article:tag" content="Full-Stack, Android, AI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.ysy950803.top/img/avatar-ysy.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.ysy950803.top/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="MK2u6SdXmNALFQhaVElzr03W62cBQbIjtHK-7rvSIjw"/><meta name="baidu-site-verification" content="codeva-o8m8oS84V9"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-8999136091629669',
  enable_page_level_ads: 'true'
});</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-149830607-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-149830607-1');
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":10,"languages":{"author":"作者: YSY","link":"链接: ","source":"来源: Pig Cat","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#A58A5D","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Pig Cat',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-08-23 12:04:56'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><script>document.oncontextmenu=function(){return!1}</script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),n=new MutationObserver(e=>{for(let t of e)if("childList"===t.type){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML)+1e5;break}}),i=new MutationObserver(e=>{for(let t of e)if("childList"===t.type){i.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML)+3e5;break}}),r={childList:!0};n.observe(e,r),i.observe(t,r)});</script><meta name="referrer" content="no-referrer" /><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar-ysy.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">87</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/home-bg.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Pig Cat"><span class="site-name">Pig Cat</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Pig Cat</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/08/23/%E8%A7%A3%E5%86%B3git%E6%8F%90%E4%BA%A4%E5%87%BA%E7%8E%B0RPC-failed-HTTP-400%E7%9A%84%E9%97%AE%E9%A2%98/" title="解决git提交出现RPC failed HTTP 400的问题">解决git提交出现RPC failed HTTP 400的问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-23T03:36:56.000Z" title="发表于 2024-08-23 11:36:56">2024-08-23</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%97%AE%E9%A2%98%E4%B8%8D%E5%A4%A7/">问题不大</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%BC%93%E6%8D%A3%E6%8A%98%E8%85%BE/">鼓捣折腾</a></span></div><div class="content">最近升级了macOS系统后（从12.5升到12.7），发现我的Hexo博客部署不上去了，执行：
1hexo clean &amp; hexo deploy

会提示错误：
12345678Counting objects: 19815, done.Compressing objects: 100% (5264/5264), done.Writing objects: 100% (19815/19815), 44.91 MiB | 134.87 MiB/s, done.Total 19815 (delta 14641), reused 19405 (delta 14283)error: RPC failed; HTTP 400 curl 22 The requested URL returned error: 400 Bad Requestfatal: The remote end hung up unexpectedlyfatal: The remote end hung up unexpectedlyEverything up-to-date

看到400错误，还以为是权限有问题，尝 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/28/%E8%AE%A9WCDB%E5%85%BC%E5%AE%B9%E6%9C%80%E6%96%B0%E7%89%88Room/" title="让WCDB兼容最新版Room">让WCDB兼容最新版Room</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-28T02:17:23.000Z" title="发表于 2024-03-28 10:17:23">2024-03-28</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Kotlin/">Kotlin</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%BC%93%E6%8D%A3%E6%8A%98%E8%85%BE/">鼓捣折腾</a></span></div><div class="content">
先直接推荐我的开源小库：WCDBRoomX ，如果它的README就已经让你知道库的核心作用，这篇文章就不需要看了。

WCDB是腾讯微信团队开源的客户端数据库框架，拥有高性能和支持加密等重要特性，并且可用于Android、iOS、Windows、macOS等多个平台。 我们知道，原生的加密数据库框架SQLCipher和不加密的SQLite相比，性能差距还是很大的，加密会使得读写效率严重下降，而WCDB很好地兼顾了性能和安全问题。

SQLCipher和SQLite对比测试
WCDB和SQLite对比测试

对使用了Google官方Jetpack Room库的开发者，WCDB 1.x版本也提供了完美支持：Use WCDB with Room ，然而，WCDB 2.x版本后变成了一个纯ORM框架，虽然也支持Java、Kotlin等语言（本质上就是一层封装，底层接口都一样），但是暂时没有计划支持兼容Room，从官方文档看，2.x版本更纯粹，一套代码跨全平台，所以也不关注各平台的其他框架兼容了。

跟WCDB的开发者也聊了聊，他们团队对Room的支持兴趣不大：issues#1052 。其实 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/26/%E5%8F%8C%E8%BF%9B%E7%A8%8B%E4%BA%A4%E4%BA%92%E5%AE%9E%E7%8E%B0App%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF/" title="双进程交互实现App自动重启">双进程交互实现App自动重启</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-26T07:40:19.000Z" title="发表于 2024-03-26 15:40:19">2024-03-26</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Kotlin/">Kotlin</a></span></div><div class="content">背景你可能会好奇，有些手游（比如王者荣耀）是怎么实现资源更新后自动重启的？
这个体验确实不错，因为不需要用户手动点击桌面图标重启App，在一些数据恢复备份的场景中，很实用。比如，从云端拉取SQLite数据库db文件或一些prefs配置文件后，会直接覆盖到本地，但进程不重新启动的话，是不会生效的。
思路基本思路其实很简单，利用Android应用对多进程的天然支持，来实现双进程互拉。

有的朋友一看见“双进程”、“互拉”这些词汇就会立马联想到保活，注意本文不是讲保活的哦。

为了方便讲解，我们定义主进程之外的另一个进程为 进程B。大致流程分这么几步：

在主进程执行完一系列业务逻辑后，欲重启，先拉起进程B
进程B启动后，主进程kill掉自己
接着，进程B拉起主进程，然后再kill掉自己，此时主进程完成自动重启

实现先在Manifest中声明进程B，为了良好的交互体验，需要实现一个Activity，进程名称自定义，比如此处叫“killer”，是不是很贴切？
12345&lt;activity    android:name=&quot;.KillerActivity&quot;    an ...</div></div></div><div class="recent-post-item ads-wrap"><script async crossorigin=anonymous src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8999136091629669"></script><ins class=adsbygoogle data-ad-client=ca-pub-8999136091629669 data-ad-format=fluid data-ad-layout-key=-fb+5w+4e-db+86 data-ad-slot=1886176861 style=display:block></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/25/%E5%9C%A8assembleRelease%E4%B9%8B%E5%89%8D%E6%89%A7%E8%A1%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%BB%E5%8A%A1/" title="在assembleRelease之前执行自定义任务">在assembleRelease之前执行自定义任务</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-25T06:19:04.000Z" title="发表于 2024-03-25 14:19:04">2024-03-25</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Kotlin/">Kotlin</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Gradle/">Gradle</a></span></div><div class="content">背景在实际的Gradle项目开发中，我们总是会遇到一些需求，要在release编译的时候执行一些任务，但debug时不需要。然而，Gradle编译有自己的一套生命周期，比如Android项目的assembleRelease任务在编译启动之前是没有办法静态获取到的。
下面我们就以“去除release版本中的logcat日志打印”为例，做一个简单的梳理。
源码修改模板（module）级别的 build.gradle.kts 文件，我们初步目标是在编译刚启动但还没实际开始执行任务时插入我们的自定义任务，切入点就是Gradle的preBuild任务，这个是预定义的，所以可以进行静态配置：
1234567891011121314151617181920212223242526272829plugins &#123;    id(&quot;com.android.application&quot;)    id(&quot;kotlin-android&quot;)    id(&quot;kotlin-kapt&quot;)&#125;android &#123;    namespace = ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/11/%E8%A7%A3%E5%86%B3macOS%E6%89%A7%E8%A1%8Cfastboot%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AE%BE%E5%A4%87%E7%9A%84%E9%97%AE%E9%A2%98/" title="解决macOS执行fastboot找不到设备的问题"><img class="post-bg" src="/2023/08/11/%E8%A7%A3%E5%86%B3macOS%E6%89%A7%E8%A1%8Cfastboot%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AE%BE%E5%A4%87%E7%9A%84%E9%97%AE%E9%A2%98/image-20230811154542258.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="解决macOS执行fastboot找不到设备的问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/11/%E8%A7%A3%E5%86%B3macOS%E6%89%A7%E8%A1%8Cfastboot%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AE%BE%E5%A4%87%E7%9A%84%E9%97%AE%E9%A2%98/" title="解决macOS执行fastboot找不到设备的问题">解决macOS执行fastboot找不到设备的问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-11T07:49:01.000Z" title="发表于 2023-08-11 15:49:01">2023-08-11</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%97%AE%E9%A2%98%E4%B8%8D%E5%A4%A7/">问题不大</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/AOSP/">AOSP</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%BC%93%E6%8D%A3%E6%8A%98%E8%85%BE/">鼓捣折腾</a></span></div><div class="content">背景最近准备给我的备用机Redmi Note 11 5G刷个类原生的三方ROM，MIUI实在是用腻了。搜罗了一番，在XDA上找到了一个基于Pixel Experience开发的ROM：PixelExperience Plus for Redmi Note 11T&#x2F;11S 5G&#x2F;11 5G&#x2F;POCO M4 Pro 5G (everpal)，它的实际开源地址是：github.com&#x2F;Xiaomi-MT6833&#x2F;releases&#x2F;releases&#x2F;，可以直接在里面下载到最新的ROM刷机包和boot.img文件。
下载好PixelExperience_Plus_everpal-13.0-20230410-1707-UNOFFICIAL.zip和boot.img之后，开始刷机，其实过程非常简单（参考：小米手机刷PixelExperience系统操作指南），保证手机已经先解锁BL，并和电脑连接，然后终端执行命令，忽略指南中刷vendor那一步：
123adb reboot-bootloaderfastboot flash boo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/07/31/%E7%BB%99%E4%B8%8D%E8%92%9C%E5%AD%90%EF%BC%88busuanzi%EF%BC%89%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E5%A2%9E%E5%8A%A0%E5%88%9D%E5%A7%8B%E5%80%BC/" title="给不蒜子（busuanzi）统计数据增加初始值">给不蒜子（busuanzi）统计数据增加初始值</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-31T08:54:00.000Z" title="发表于 2023-07-31 16:54:00">2023-07-31</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%BC%93%E6%8D%A3%E6%8A%98%E8%85%BE/">鼓捣折腾</a></span></div><div class="content">背景最近把个人博客迁移到了Hexo框架，并使用了Butterfly主题，得益于博客框架的易用性和主题功能的丰富程度，感觉非常的香。我对比了很多Hexo主题，这一个算是在功能、审美、文档等各方面几乎完美符合我需求的。
Butterfly很贴心地集成了不蒜子计数工具，可以统计网站的访问数据（人数，次数等）。只需要修改主题config文件即可开启：
1234busuanzi:  site_uv: true  site_pv: true  page_pv: true

即便没有使用Hexo框架和Butterfly主题，用不蒜子计数也是很简单的。
这个工具存在快十年了，其首页的标语就是“两行代码，搞定计数”。感觉这位作者也是个有情怀的开发者，维护服务器给大家免费使用这么多年。
12&lt;script async src=&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;            &lt;span id=&quot;busuanzi_container_si ...</div></div></div><div class="recent-post-item ads-wrap"><script async crossorigin=anonymous src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8999136091629669"></script><ins class=adsbygoogle data-ad-client=ca-pub-8999136091629669 data-ad-format=fluid data-ad-layout-key=-fb+5w+4e-db+86 data-ad-slot=1886176861 style=display:block></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/07/21/Android%E7%B3%BB%E7%BB%9F%E5%85%BC%E5%AE%B9%E9%80%82%E9%85%8D%E8%B8%A9%E5%9D%91%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/" title="Android系统兼容适配踩坑（持续更新）">Android系统兼容适配踩坑（持续更新）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-21T08:32:31.000Z" title="发表于 2023-07-21 16:32:31">2023-07-21</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/AOSP/">AOSP</a></span></div><div class="content">屏幕亮度范围在Android应用层，要获取屏幕亮度，一般是通过读取系统Settings表中的配置：
1Settings.System.getInt(contentResolver, Settings.System.SCREEN_BRIGHTNESS);

从AOSP源码可以看出，其范围是0到255，如果要修改亮度，也是通过这个key去putInt的：
1234/*** The screen backlight brightness between 0 and 255.*/public static final String SCREEN_BRIGHTNESS = &quot;screen_brightness&quot;;

原则上无论什么设备，厂商都应该按照这个亮度范围去做类似“归一化”的适配，才能让上层开发者写出可靠的代码。
实际上，这个范围值并不可靠，很多厂商根本没在意这个源码注释中的255上限。这就导致了开发者以为修改成255就是最大亮度，但效果不符合预期。
我们可以通过获取最大亮度的配置值来验证：
12int id = getResources().getIdentifier ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/05/05/%E5%9C%A8Android%E5%BA%94%E7%94%A8%E4%B8%AD%E9%9B%86%E6%88%90%E4%BD%BF%E7%94%A8traceroute%E5%B7%A5%E5%85%B7/" title="在Android应用中集成使用traceroute工具"><img class="post-bg" src="https://imgconvert.csdnimg.cn/b04cf6079ba04e7eb960c293d45fe951.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在Android应用中集成使用traceroute工具"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/05/%E5%9C%A8Android%E5%BA%94%E7%94%A8%E4%B8%AD%E9%9B%86%E6%88%90%E4%BD%BF%E7%94%A8traceroute%E5%B7%A5%E5%85%B7/" title="在Android应用中集成使用traceroute工具">在Android应用中集成使用traceroute工具</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-04T16:00:00.000Z" title="发表于 2023-05-05 00:00:00">2023-05-05</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Linux/">Linux</a></span></div><div class="content">背景知识traceroute是一个常用于Linux系统的网络工具，它可显示数据包在IP网络中所经过路由的IP地址，理想状态下可探测本机和目标地址之间的所有路由节点。
其他操作系统中也有类似的替代品，实现都大同小异。一般用法如下：
123456789101112131415161718终端输入：~ traceroute -I baidu.com输出：traceroute to baidu.com (39.156.66.10), 30 hops max, 60 byte packets 1  9.102.191.130 (9.102.191.130)  0.638 ms  0.797 ms * 2  * 9.102.250.222 (9.102.250.222)  0.745 ms  0.943 ms 3  * * * 4  10.200.46.253 (10.200.46.253)  1.332 ms  1.333 ms  1.332 ms 5  * * * 6  39.156.0.85 (39.156.0.85)  4.384 ms  4.184 ms  3.936 ms 7  111 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/28/%E7%BB%99MIUI%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%88%B7%E6%96%B0%E7%8E%87%E5%BC%80%E5%85%B3/" title="给MIUI开发一个刷新率开关"><img class="post-bg" src="/2023/02/28/%E7%BB%99MIUI%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%88%B7%E6%96%B0%E7%8E%87%E5%BC%80%E5%85%B3/867802e2f5542451c96578a3885647db.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="给MIUI开发一个刷新率开关"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/28/%E7%BB%99MIUI%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%88%B7%E6%96%B0%E7%8E%87%E5%BC%80%E5%85%B3/" title="给MIUI开发一个刷新率开关">给MIUI开发一个刷新率开关</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-27T16:00:00.000Z" title="发表于 2023-02-28 00:00:00">2023-02-28</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%BC%93%E6%8D%A3%E6%8A%98%E8%85%BE/">鼓捣折腾</a></span></div><div class="content">背景我们很容易发现，现在小米等厂商支持高刷新率120Hz的手机，在系统设置中都隐藏了90Hz这个档位，只有60和120两种选项。对很多人来说，60虽然省电但是太不流畅，影响体验，120虽然流畅但太耗电，出门会有电量焦虑，折中的90其实才是最合适的选择（至少在心理上）。

我一直试图搞清楚为什么厂商不愿意开放90Hz这个选项，对系统来说，刷新率无非就是一个可以修改的数值。是什么原因不让用户多一个选择呢？
调查经过一些简单的查询，我发现网络上的解释一般都是硬件本身不支持，芯片功能较弱，不足以驱动多种刷新率，强制修改为90Hz长时间可能造成屏幕损坏等。
当然，我也不忘去问一问无所不知的ChatGPT，他还是一如既往地说了一些车轱辘话。他这个“技术退步”论倒是有点意思。

其实“硬件不支持”这个说法我并不是很赞同。如果你在Android系统的开发者选项中打开“显示屏幕刷新率”的开关，就会发现在不同的使用场景下，不只有60Hz和120Hz两种刷新率，比如息屏AOD为了降低功耗，就只有30Hz；很多手游最高也只支持90Hz，即便开启120Hz也没用。因此，要是说强制修改为其他隐藏刷新率会导致屏幕损 ...</div></div></div><div class="recent-post-item ads-wrap"><script async crossorigin=anonymous src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8999136091629669"></script><ins class=adsbygoogle data-ad-client=ca-pub-8999136091629669 data-ad-format=fluid data-ad-layout-key=-fb+5w+4e-db+86 data-ad-slot=1886176861 style=display:block></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/02/14/Android%E7%B3%BB%E7%BB%9F%E6%97%A0%E9%99%90%E9%87%8D%E5%90%AF%E6%BC%8F%E6%B4%9E/" title="Android系统无限重启漏洞">Android系统无限重启漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-13T16:00:00.000Z" title="发表于 2023-02-14 00:00:00">2023-02-14</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/AOSP/">AOSP</a></span></div><div class="content">
2022年，一次偶然的机会，我发现了一个会导致Android系统无限重启致使设备完全不可用的高危漏洞，遂提交给了Google。当年11月的AOSP补丁对此进行了修复，本文是我提交漏洞报告的原文，现公开，待整理。具体可以在Android Security Bulletin—November 2022中搜索CVE-2022-20414了解更多。

Report description
In a few words describe your bug. This will help you search for it later.

The “snoozeNotification” method of NotificationListenerService causes Android system to crash and cyclic reboot.
Bug locationWhich product or website have you found a vulnerability in?Android
The problemPlease describe the technical ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/12/%E5%88%A0%E9%99%A4Android%20Studio%E4%B8%AD%E9%87%8D%E5%A4%8D%E7%9A%84JDK%E9%85%8D%E7%BD%AE/" title="删除Android Studio中重复的JDK配置"><img class="post-bg" src="https://imgconvert.csdnimg.cn/33252e541c8d4a02a31c34ee3d2657c1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="删除Android Studio中重复的JDK配置"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/12/%E5%88%A0%E9%99%A4Android%20Studio%E4%B8%AD%E9%87%8D%E5%A4%8D%E7%9A%84JDK%E9%85%8D%E7%BD%AE/" title="删除Android Studio中重复的JDK配置">删除Android Studio中重复的JDK配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-11T16:00:00.000Z" title="发表于 2023-02-12 00:00:00">2023-02-12</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Gradle/">Gradle</a></span></div><div class="content">问题可能因为一些不经意的操作，导致如下这种情况：出现多余重复的JDK路径配置，其实指向的是同一个路径。

强迫症犯了之后，就会想怎么干掉这个（2）。
解决第一步：先打开你最近打开的项目，找到 .idea/misc.xml 看看里面有没有那个多余的JDK路径，如果有就直接把这个misc.xml文件删掉。然后完全退出整个Android Studio。

第二步：在Android Studio缓存配置目录里找到 options/jdk.table.xml ，针对不同的系统路径不太一样：

WindowsC:\Users\username\AppData\Roaming\Google\AndroidStudioX.Y
Linux&#x2F;home&#x2F;username&#x2F;.config&#x2F;Google&#x2F;AndroidStudioX.Y和&#x2F;home&#x2F;username&#x2F;.local&#x2F;share&#x2F;Google&#x2F;AndroidStudioX.Y
macOS~&#x2F;Library&#x2F;Applica ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/05/%E5%BD%93Google%E5%85%B3%E5%BF%83%E8%B5%B7%E4%BD%A0%E7%9A%84%E5%81%A5%E5%BA%B7%E6%95%B0%E6%8D%AE/" title="当Google关心起你的健康数据"><img class="post-bg" src="/2022/12/05/%E5%BD%93Google%E5%85%B3%E5%BF%83%E8%B5%B7%E4%BD%A0%E7%9A%84%E5%81%A5%E5%BA%B7%E6%95%B0%E6%8D%AE/image-20221120160304633.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="当Google关心起你的健康数据"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/05/%E5%BD%93Google%E5%85%B3%E5%BF%83%E8%B5%B7%E4%BD%A0%E7%9A%84%E5%81%A5%E5%BA%B7%E6%95%B0%E6%8D%AE/" title="当Google关心起你的健康数据">当Google关心起你的健康数据</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-04T16:00:00.000Z" title="发表于 2022-12-05 00:00:00">2022-12-05</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/AOSP/">AOSP</a></span></div><div class="content">此文为初稿备份，终稿已发布于少数派：https://sspai.com/post/77024

今年五月，在 Android 开发者官方博客中，Google 隆重介绍了一个新平台，名为 Health Connect，并推出了相应的 Android API。其官方网站用非常显眼的大标题和副标题简洁地描述了其核心功能与优势：简化健康类应用之间的连接。

Health Connect: simplify connectivity between apps
Health and fitness apps record valuable data. With permission from your users, you can unlock the full potential of this data by combining it to generate powerful insights.

粗略地看这应该是 Google 搞的一个平台化的东西。那么它具体是什么呢？又会给用户和开发者带来什么利益？
什么是Health Connect如今健康和健身类的应用越来越多，各大厂商迅速占领这个细分 ...</div></div></div><div class="recent-post-item ads-wrap"><script async crossorigin=anonymous src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8999136091629669"></script><ins class=adsbygoogle data-ad-client=ca-pub-8999136091629669 data-ad-format=fluid data-ad-layout-key=-fb+5w+4e-db+86 data-ad-slot=1886176861 style=display:block></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/10/30/%E8%AE%A9%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4%E6%9B%B4%E6%9C%89%E6%97%B6%E9%97%B4%E8%A7%82%E5%BF%B5/" title="让终端命令更有时间观念">让终端命令更有时间观念</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-29T16:00:00.000Z" title="发表于 2022-10-30 00:00:00">2022-10-30</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%BC%93%E6%8D%A3%E6%8A%98%E8%85%BE/">鼓捣折腾</a></span></div><div class="content">背景我们无论是在Mac还是Linux平台上工作，都避免不了要使用终端来执行命令。然而系统默认的终端功能非常简单，没有命令建议、自动补全等功能，对强依赖终端的工作者来说很不友好。
还好有oh-my-zsh，它对zsh进行了增强，不仅有丰富的插件，还可以自定义主题配置。了解或使用过它的同学一定会觉得非常香。这里引用一篇少数派作者之前的文章，我就不赘述它的好处了：Oh My Zsh 配置指南
使用安装和使用都非常简单，在安装了zsh的前提下，一行命令即可搞定：
123sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;# 或者sh -c &quot;$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)&quot;

特别提醒： 如果访问不了GitHub的话，可以使用国内镜像备份仓库：
12git clone https://gitee.com/mirrors/o ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/20/%E7%AE%80%E5%8D%95%E5%87%A0%E6%AD%A5%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" title="简单几步实现内网穿透"><img class="post-bg" src="/2022/05/20/%E7%AE%80%E5%8D%95%E5%87%A0%E6%AD%A5%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/db42d70e69013af8c4944a5fc1225e3b.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="简单几步实现内网穿透"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/20/%E7%AE%80%E5%8D%95%E5%87%A0%E6%AD%A5%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" title="简单几步实现内网穿透">简单几步实现内网穿透</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-19T16:00:00.000Z" title="发表于 2022-05-20 00:00:00">2022-05-20</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%BC%93%E6%8D%A3%E6%8A%98%E8%85%BE/">鼓捣折腾</a></span></div><div class="content">场景为了避免阐述过多理论，我们直接从需求场景入手，来了解一下为什么需要内网穿透？

小明是少数派的一位咕咕作者，在家里电脑稿某文稿了一半，到公司后打算摸鱼继续稿，怎么办呢（此处假定他没有使用任何云同步软件，也不会使用git，就算会用他也忘了提交）？
此时，小明想通过ssh等远程访问设备文件的方式来下载家里那半稿子，但他的家庭网络是没有分配公网IP的，无法通过互联网直连。内网穿透就这样派上用场了。

所以通俗地讲，内网穿透就是要将流量从公网穿透到内网，让内网设备也能通过公网访问，帮助小明在公司访问家里电脑的文件。
设施内网穿透的核心思想就是“映射”和“转发”，把内网设备的端口映射到公网设备的端口上，来进行流量转发。

简单地画一下示意图如上，基础设施由两个核心设备组成：
服务端：拥有公网IP的设备一台，即上图“公网服务器”，开放2个端口7000和6000，用于公网通信。
客户端：要访问的内网设备一台，即上图”内网家用电脑”，开放实际应用服务所需的端口（比如ssh服务，默认22端口），并将配置的公网映射端口6000告知服务端。所以服务端开放的那个端口6000实际上是客户端告诉它的。
（以上 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/17/%E8%B0%81%E5%AE%B6%E6%8E%A8%E9%80%81%E6%9C%8D%E5%8A%A1%E9%99%90%E5%88%B6%E6%9C%80%E4%B8%A5%E6%A0%BC/" title="谁家推送服务限制最严格"><img class="post-bg" src="https://imgconvert.csdnimg.cn/4e5fce56c25947ecb2b67d3ecf168b47.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谁家推送服务限制最严格"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/17/%E8%B0%81%E5%AE%B6%E6%8E%A8%E9%80%81%E6%9C%8D%E5%8A%A1%E9%99%90%E5%88%B6%E6%9C%80%E4%B8%A5%E6%A0%BC/" title="谁家推送服务限制最严格">谁家推送服务限制最严格</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-16T16:00:00.000Z" title="发表于 2022-05-17 00:00:00">2022-05-17</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a></span></div><div class="content">
 先说句题外话，又过了这么多年了，没想到国内Android的统一推送还是没有实现。

由于工作需要，最近正好在调研各家系统推送服务，我发现从他们的技术文档可以分析出很多有意思的东西，比如说能看出来哪家厂商的推送限制最严格，最考虑用户的综合体验。在讲解之前，我们先简单提几个推送服务的基本概念：

设备：用户所持有的某台设备，在技术文档中所提到的日活跃用户数一般也就指日联网设备数
应用：某台设备上安装的某个应用，后续我们所描述的推送数量限制都是以此维度比较的
推送：应用进程活跃或关闭时，通过系统级的推送通道下发消息，一般以通知消息的形式呈现给用户，点击后激活应用进程
透传：仅在应用活跃时可接收数据，仍然依赖系统的推送服务器下发，但数据格式一般可以自定义，处理逻辑也是由应用自己实现，所以应用如果被杀死，自然就处理不到了

一个不那么规范的示意图：

注：下文以x表示日联网设备数量；我们主要关注推送，不过多说明透传的限制。
各家次数限制华为对于某设备某应用，推送和透传次数总共不超过3000次&#x2F;每日；相当于该应用每日推送总量上限为：f(x) = 3000 * x
简要解读：华为严格限 ...</div></div></div><div class="recent-post-item ads-wrap"><script async crossorigin=anonymous src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8999136091629669"></script><ins class=adsbygoogle data-ad-client=ca-pub-8999136091629669 data-ad-format=fluid data-ad-layout-key=-fb+5w+4e-db+86 data-ad-slot=1886176861 style=display:block></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/#content-inner">6</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar-ysy.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">YSY</div><div class="author-info__description">Full-Stack, Android, AI</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">87</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ysy950803"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget donate" id="donate"><div class="item-headline"><i class="fas fa-heartbeat"></i><span>随缘支持</span></div><div class="item-content"><p style="text-align:center;padding:0;margin:0;"><a target="_blank" rel="noopener" href="https://qr.alipay.com/fkx12362diu95oh2aweaac5"><img src="https://blog.ysy950803.top/img/love-support.png" width="200" height="200"/></a></p> <p style="text-align:center;padding:0;margin:0;">移动端点击二维码亦可</p> <p style="text-align:center;padding:0;margin:0;"><u><a target="_blank" rel="noopener" href="https://paypal.me/yaoshengyu">Paypal.me if you like</a></u></p></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/23/%E8%A7%A3%E5%86%B3git%E6%8F%90%E4%BA%A4%E5%87%BA%E7%8E%B0RPC-failed-HTTP-400%E7%9A%84%E9%97%AE%E9%A2%98/" title="解决git提交出现RPC failed HTTP 400的问题">解决git提交出现RPC failed HTTP 400的问题</a><time datetime="2024-08-23T03:36:56.000Z" title="发表于 2024-08-23 11:36:56">2024-08-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/28/%E8%AE%A9WCDB%E5%85%BC%E5%AE%B9%E6%9C%80%E6%96%B0%E7%89%88Room/" title="让WCDB兼容最新版Room">让WCDB兼容最新版Room</a><time datetime="2024-03-28T02:17:23.000Z" title="发表于 2024-03-28 10:17:23">2024-03-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/26/%E5%8F%8C%E8%BF%9B%E7%A8%8B%E4%BA%A4%E4%BA%92%E5%AE%9E%E7%8E%B0App%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF/" title="双进程交互实现App自动重启">双进程交互实现App自动重启</a><time datetime="2024-03-26T07:40:19.000Z" title="发表于 2024-03-26 15:40:19">2024-03-26</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/25/%E5%9C%A8assembleRelease%E4%B9%8B%E5%89%8D%E6%89%A7%E8%A1%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%BB%E5%8A%A1/" title="在assembleRelease之前执行自定义任务">在assembleRelease之前执行自定义任务</a><time datetime="2024-03-25T06:19:04.000Z" title="发表于 2024-03-25 14:19:04">2024-03-25</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/11/%E8%A7%A3%E5%86%B3macOS%E6%89%A7%E8%A1%8Cfastboot%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AE%BE%E5%A4%87%E7%9A%84%E9%97%AE%E9%A2%98/" title="解决macOS执行fastboot找不到设备的问题">解决macOS执行fastboot找不到设备的问题</a><time datetime="2023-08-11T07:49:01.000Z" title="发表于 2023-08-11 15:49:01">2023-08-11</time></div></div></div></div><div class="card-widget ads-wrap"><script async crossorigin=anonymous src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8999136091629669"></script><ins class=adsbygoogle data-ad-client=ca-pub-8999136091629669 data-ad-format=auto data-ad-slot=7049722255 data-full-width-responsive=true style=display:block></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E9%97%AE%E9%A2%98%E4%B8%8D%E5%A4%A7/" style="font-size: 1.37em; color: rgb(187, 18, 197)">问题不大</a><a href="/tags/Android/" style="font-size: 1.45em; color: rgb(121, 170, 73)">Android</a><a href="/tags/AOSP/" style="font-size: 1.42em; color: rgb(149, 188, 103)">AOSP</a><a href="/tags/Java/" style="font-size: 1.34em; color: rgb(88, 143, 12)">Java</a><a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 1.31em; color: rgb(56, 13, 4)">后端</a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.23em; color: rgb(184, 102, 138)">前端</a><a href="/tags/Kotlin/" style="font-size: 1.29em; color: rgb(169, 14, 81)">Kotlin</a><a href="/tags/%E9%BC%93%E6%8D%A3%E6%8A%98%E8%85%BE/" style="font-size: 1.4em; color: rgb(77, 51, 195)">鼓捣折腾</a><a href="/tags/Linux/" style="font-size: 1.31em; color: rgb(59, 149, 82)">Linux</a><a href="/tags/Gradle/" style="font-size: 1.23em; color: rgb(103, 177, 194)">Gradle</a><a href="/tags/Windows/" style="font-size: 1.26em; color: rgb(39, 41, 7)">Windows</a><a href="/tags/AI/" style="font-size: 1.2em; color: rgb(20, 18, 77)">AI</a><a href="/tags/macOS/" style="font-size: 1.18em; color: rgb(41, 127, 36)">macOS</a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.15em; color: rgb(161, 78, 4)">算法</a><a href="/tags/Rust/" style="font-size: 1.15em; color: rgb(147, 167, 36)">Rust</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">87</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2018-03-02T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-08-23T04:04:56.241Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/home-bg.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2024 By YSY</div><div class="footer_custom_text">Welcome To My Blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (false) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (false) {
    typedJSFn.init(["Full-Stack, Android, AI"])
  } else {
    document.getElementById("subtitle").textContent = "Full-Stack, Android, AI"
  }
}
typedJSFn.run(subtitleType)</script></div><div class="aplayer no-destroy" data-id="2829816518" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-lrctype="0"> </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', 'UA-149830607-1', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>