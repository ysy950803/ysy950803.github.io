---
title: 克隆Win系统盘后修复启动引导
date: 2025-11-12 11:52:29
cover: 1.jpg
tags:
    - 鼓捣折腾
    - Windows
---

2020年买的台式电脑，如今除了CPU还能再战几年，其他部件都稍显过时了，内存和显卡囿于ITX主板，无法升级，只能更新一下固态硬盘了。

然而，小机箱只有一个固态硬盘插槽，直接拔下来换新的，无法开机。完全重装系统嘛，我是不愿意的，所以只能选择完全克隆这一条道路。

## 克隆

首先要准备一些软硬件：

- 新买的硬盘（至少要和旧的硬盘容量一样大）
- 固态硬盘盒，带传输线（主板若支持USB 3.2或者雷电，那就买对应接口的，这样保证传输速度最快）
- [Macrium Reflect Free](https://www.macrium.com/reflectfree)克隆软件，支持直接克隆整个磁盘（包括 EFI、系统分区等），这个软件还是很良心的，有30天免费

接下来，把新硬盘插入硬盘盒，连上电脑，开始克隆，过程很简单：

**步骤 1：** 启动Macrium Reflect

打开主界面后，它会列出所有磁盘：

```
Disk 1 [旧SSD]
Disk 2 [新SSD]
```

确认两块盘都识别到了。

**步骤 2：** 选择“Clone this disk...”

在旧盘（系统盘）下方点击：

> **Clone this disk…（克隆此磁盘）**

**步骤 3：** 选择目标磁盘

在弹出窗口中：

> 选择目标磁盘 → 新SSD  
> 点击  **"Select a disk to clone to"**

整个过程耗时取决于你旧硬盘的内容大小，我有1.5TB的数据，USB 3.0（速度一般），直接设置了克隆完成自动关机，第二天起来发现已经搞定了，估计花了三四个小时吧。

## 换盘

先继续插着硬盘盒，开机看看，如果克隆成功，分区里会多出一个盘，和移动硬盘一样，里面的文件内容和系统盘一模一样。

然后，关机，拆机，换上新硬盘，再开机。如果你运气好，就直接进系统了，整个系统盘完美迁移，下文你也可以不看了。但如果你卡在了开机界面，比如一直转圈甚至卡死，那么恭喜你，需要修复启动引导了。

## 修复

有时候不一定是引导坏了，可能是启动顺序不对，重新开机，按`DEL`键进入BIOS设置界面，不同主板可能按键不同，自行查阅。然后设置一下Boot顺序，看看第一项是不是Windows Boot Manager这样的字样。

如果Boot顺序正确，还是进不去系统，那就真的要修复了。

> 好家伙，又回到我小时候装双系统鼓捣UEFI引导分区的感觉了，好怀念啊……

再次重启，按`F11`进入Windows自带的启动修复程序，它可能会尝试自动修复，并且修复失败后会提示日志路径，比如我的在：

```shell
C:\Windows\System32\LogFiles\Srt\SrtTrail.txt
```

回到F11进来的界面，通过“修复计算机” → “疑难解答” → “高级选项” → “命令提示符”，我们可以查看这个日志内容：

```shell
cd /d C:\Windows\System32\LogFiles\Srt
notepad SrtTrail.txt
```

比如我发现，其中有错误代码（非0x00的）：

```shell
找到的根本原因：
----------------
可能是对系统配置进行的未指定的更改导致了该问题。

修复操作：
结果：失败。错误代码 = 0x32
使用的时间 = 234毫秒

修复操作：系统文件完整性检查和修复
结果：失败。错误代码 = 0x57
使用的时间 = 922毫秒
```

经过查阅，错误码表示：

|错误码|含义|说明|
| --------| -------------------------------| ------------------------------------------------------|
|**0x32**|系统引导配置错误|说明引导文件（BCD/EFI）缺失或损坏|
|**0x57**|系统文件检查器 (SFC) 无法运行|通常是因为启动分区未正确挂载、盘符错位或分区标识错误|

继续在命令行中执行：

```shell
diskpart
list vol
```

查看当前分区情况：

![](1.jpg)

**会发现，标签为“SYSTEM”的分区（EFI分区）存在，但没有盘符，所以bcdboot无法写入引导文件。**

接下来，进行最终的修复。刚才执行了`diskpart`，不要退出，继续执行：

```shell
select vol 1
assign letter=S
exit
```

解释一下命令的含义：

- `select vol 1` → 选择卷1（你若是其他数字就写对应的），也就是那个SYSTEM分区
- `assign letter=S` → 临时给它一个盘符S
- `exit` → 退出DiskPart

最后一步，修复引导文件：

```shell
bcdboot C:\Windows /l zh-cn /s S: /f UEFI
```

若看到“已成功创建启动文件”之类的提示，就说明成功了。关闭命令行，重启电脑即可！
